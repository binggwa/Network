# 1. 미디어 액세스 제어 (Medium Access Control)
***
### 미디어 액세스 제어
- MAC
- 브로드캐스트 LANs
  - 단순하고 저렴
  - 모든 정보가 사용자에게 송신
  - 라우팅 없음
### Multiple Access Communications
- MAC의 주요 기능은 충돌 사례를 최소화하거나 제거하여 매체를 합리적으로 활용하는 것
### Approaches to Media Sharing
- MAC를 공유하는 방식에는 크게 2가지 범주
- Static channelization, 충돌 없는 공유
  - 채널화 방식
  - 매체를 별도의 채널로 분할한 다음 특정 사용자 전용이 되기 때문
- Dynamic medium access control
  - 사용자 트래픽이 폭주하는 상황에 잘맞음
  - 주변 장치 기반
  - 랜덤 액세스
  - 스케쥴링
### Channelization Example : Satellite, Cellular
- 위성네트워크는 채널화 사용
- 각 스테이션에는 사용자 위성을 전송하는데 사용되는 업링크 주파수 대역의 채널이 할당
- 위성은 이를 사용하여 다른 다운링크 주파수 대역을 차지하는 채널에서 다시 브로드캐스트
### 왜 Channelization을 사용하는가?
- 채널화 기법은 스테이션이 전용 채널을 효율적으로 사용하는 꾸준한 정보 스트림을 생성하는 경우에 적합
- 지속적인 bit rate traffic에 고효율
- 셀룰러 전화 네트워크에 선호됨
- Terrestrial & satellite broadcast radio & TV 에 선호
- 요구사항이 다른 사용자에게 언어를 할당하는 데 있어 유연성이 떨어짐
- 트래픽이 폭주하는 경우에는 비효율적
- 동적 MAC 체계는 폭주하는 트래픽을 처리하는 데 훨씬 효과적
### 채널화 방식
- Frequency Division Multiple Access (FDMA)
  - Broadcast radio & TM, analog cellular phone
- Time Division Multiple Access (TDMA)
  - Telephone backbone, GSM digital cellular phone
- Code Division Multiple Access (CDMA)
  - Cellular phones, 3G cellular
### Scheduling : Token-Passing
- 링 네트워크는 종종 스케쥴링 접근법을 사용함
- MAC를 위한 토큰 사용이 포함됨
- 스테이션에서 링으로 전송되는 토큰이 저장되며 토큰은 다음 스테이션으로 전달됨ㅓ
### Scheduling : Polling
- 스케쥴링 기법은 초기 데이너 네트워크에서 여러 터미널을 중앙 컴퓨터에 연결하는 데 사용되었던 다중 작업 라인에도 사용됨
### Random Access
- 스테이션이 준비가 되면 언제든지 전송가능
- 문제는 동시 전송이 발생할 수 있으며, 신호에 충돌이 발생할 수 있으므로 재전송 전략 필요
### Delay-Bandwidth Product
- 지연-대역폭 곱이 key parameter
- 공유 매체의 coordination은 bandwidth를 사용하는 것을 포함
- 지연 대역폭 곱은 ARQ 프로토콜의 성능에 중요한 역할, MAC 프로토콜 성능의 핵심 매개변수임
### Two-Station Example
- 전송할 프레임이 있는 스테이션은 통신 채널을 수신하고, 채널이 유휴(Idle) 상태인 경우 전송함
- 스테이션은 채널을 모니터링하여 충돌을 감지
- 충돌이 발생하면 이전에 전송을 시작한 스테이션이 재전송
- 두 스테이션 사이의 전파 시간은 고정되어 있으며, 두 스테이션 사이에서는 알 수 없음
### Two-Station MAC Example - CASE 1
- 채널 A가 채널이 유휴 상태인 것을 발견했을 때, 시간 0에 송신한다고 가정
- 스테이션 A는 채널을 계속 관찰하여 단일 채널이 단일 스테이션의 신호와 충돌하지 않는지 확인
- 스테이션 A의 신호는 한 번의 전파 시간이 되어서야 스테이션 B에 도달
- CASE 1의 경우, 스테이션 B는 한 번의 전파 시간 이전에 전송을 시작하지 않았다고 가정
- 스테이션 B는 전송 시간이 지나면 전송을 자제하므로 A측도 안심
- 스테이션이 채널을 캡처하지 않으면 전체 메시지 속도가 느려짐
- CASE 2의 경우, 스테이션 B는 한 전파 시간 직전에 전송, 신호가 아직 도달하지 않아 충돌이 발생
- B는 직후에 충돌을 감지하는 반면, A는 2번의 전파 시간이 지나야 충돌을 감지함
- 여기서, 두 스테이션은 채널을 두고 경쟁하는 경우, 경합을 해결할 방법을 찾아야 함
- 전파 지연의 값을 알면, 전송을 시작한 시점부터 충돌이 발생한 시점까지의 시간을 측정 가능
- 이전에 전송을 시작한 스테이션은 채널이 조용해지면 바로 재전송
### Efficiency of Two-Station Example
- 관찰한 바에 따르면 전송되는 각 프레임에 대한 액세스를 조정하려면 약 2회의 전파 지연 시간이 필요
- 여기서 처리량에 대한 최대 효율성 도출
### 요약
- 표준화된 지연-대역복 곱인 전송 시간 동안 전파 지연 비율은 성능 측정, MAC 프로토콜에서 중요한 역할
***
# 2. MAC 랜덤 액세스 - ALOHA
***
- ARQ 프로토콜의 성능 및 관리는 물론 즉각적인 액세스 제어 프로토콜에서도 지연 대역폭 곱이 얼마나 중요한지 확인
- Random Access
  - 스케쥴링 오버헤드가 없음
  - 균일한 프레임 크기
    - 지연-대역폭 곱이 중요한 요소
### ALOHA
- 최초의 랜덤 액세스 MAC 프로토콜
- 하와이 대학교가 여러 섬에 위치한 캠퍼스의 터미널을 메인 캠퍼스 호스트 컴퓨터에 상호 연결할 수단이 필요했기 때문에 시작됨
- 스테이션은 전송할 데이터가 있을 때마다 전송함
- 둘 이상의 프레임이 겹치는 방식으로 전송되면, 서로 충돌하여 모두 손실됨
- 타임아웃 내에 승인이 수신되지 않은 경우, ALOHA 체계는 스테이션을 리콜하여 특정 재전송 시간 간격에서 임의의 숫자를 선택하는 백오프 알고리즘을 사용하여 재전송
- 따라서 랜덤화는 스테이션 재전송 간에 추가 충돌이 발생할 가능성을 줄이기 위한 것
- 첫 번째 프레임 전송은 스케쥴링 없이 수행됨. 단, 전송 결과에 대한 정보는 왕복 시간이나 2번의 전파 지연 이후 가장 빠른 시간에 얻어짐
### ALOHA Model
- 모든 프레임의 길이가 같고 전송 시간 X가 같다고 가정함
- ppt 정의와 가정 반드시 참고
### Abramson's 가정
- 참조 프레임과의 충돌이 없을 확률을 찾기 위해 접근법을 사용
- backoff 알고리즘의 효과는 프레임 도착이 어느 시간 간격에서든 동일하게 발생할 수 있다는 가정
- 프레임 전송 성공 확률 Psuccess 는 e^(-2G)로 도출
- G는 프레임 전송 시간 X초당 평균 프레임 도착 횟수
- 처리량 S는 총 도착속도 G에 전송 성공 확률을 곱한 값과 같다
### Slotted ALOHA
- 충돌 가능성을 줄임으로써 ALOHA 방식의 성능을 향상시킬 수 있음
- 슬롯형 ALOHA는 스테이션이 동기화된 방식으로 전송하도록 제한하여 충돌 확률을 줄임
- 슬롯형 알로하에서는 프레임 전송 시간을 기준으로 시간이 슬롯됨
- 모든 스테이션은 전송 타임 슬롯을 추적하여 타임슬롯이 시작될 때만 전송을 시작할 수 있도록 함
- 취약 기간을 2프레임 전송 시간에서 단 1프레임으로 줄일 수 있음
- 스테이션은 타임 슬롯의 시작 부분에서만 전송을 시작할 수 있기 때문에 슬롯형 ALOHA의 비용은 지연을 기다리고 있음
- 슬롯형 ALOHA에서 프레임 전송이 성공할 확률은 대략 e^(-G)
- 알로하 시스템은 약 18.4% 보다 높은 처리량을 달성할 수 없다
- 슬롯형 알로하 최대 처리량은 약 36.8%이다
- ALOHA의 최대 처리량은 프레임 도착 시간당 평균 0.5 프레임 도달에서 발생하는 반면, 슬롯형 ALOHA의 최대 처리량은 프레임 도착 시간당 평균 1프레임 도달에서 발생함
### 요약
- ALOHA 방식은 간단하지만 프레임 충돌이 심하기 때문에 크게 효과적이지 않음
***
# 3. 랜덤 액세스 - CSMA, CSMA/CD
***
### CSMA - 랜덤 액세스를 위한 충돌 감지 기능 제공
- ALOHA 프로토콜의 최대 처리량이 낮은 이유는 잦은 충돌로 인한 전송 대역폭 낭비 때문
- 충돌이 발생하면 전체 프레임 전송 시간이 소요됨
- 충돌을 일으킬 것이 확실한 전송을 피함
- 스테이션은 전송이 진행중인지 여부를 확인가능 - 캐리어 센스
### Carrier Sensing Multiple Access (CSMA)
- 캐리어 센싱 다중 액세스 (CSMA) 에서 스테이션은 전송을 시작하기 전에 채널을 감지하도록 구성함
- 사용량이 많으면 대기하거나 백오프
- 유휴 상태인 경우 전송 시작
- 취약 기간이 전파 지연 1회로 줄어듬
- 백오프 전략으로 인한 다양한 CSMA 옵션 존재
### CSMA Options : 1-persistent CSMA
- 채널이 유휴 상태가 되면 바로 시작
- 지연 시간이 짧다
- 충돌률이 상대적으로 높아 효율성이 낮다
### 1-Persistent CSMA Throughput
- 정규화된 전파 지연 알파 는 CSMA 체계의 달성 가능한 최대 처리량에 상당한 영향을 미침
- 알파는 프레임 전송 시간 동안의 전파 지연 비율
- 1-Persistent CSMA에서는 알파의 최대 처리량이 ALOHA 방식의 최대 처리량보다 우수
- 알파가 1보다 크면 더 나빠짐
### Non-persistent CSMA (least greedy)
- 채널이 사용량이 많으면 즉시 백오프 기간 동안 실행되고 캐리어를 다시 감지함
- 채널이 유휴 상태인 경우 스테이션이 전송
- 효율성이 높지만 지연 시간이 길다는 제약
### Non-persistent CSMA Throughput
- 작은 알파에 대해 1-persistent 보다 더 높은 최대 처리량을 보여줌
- 알파가 1보다 크면 ALOHA보다 더 나쁨
### p-persistent CSMA (adjustable greedy)
- 1-과 non-persistent CSMA의 요소 결합
- 채널이 바쁘면, 유휴 상태가 될 때까지 스테이션은 감지 상태를 유지
- 채널이 확률 p로 유휴 상태이면 스테이션이 전송 시작
- 확률 1-p 로 채널을 다시 감지하기 전에 추가 전파 지연을 기다림
- 지연과 효율성의 균형을 유지
### CSMA with Collision Detection (CSMA/CD)
- CSMA 체계는 취약한 기간을 1~2프레임 전송 시간에서 단 한번의 전파 지연으로 줄임으로써 ALOHA 체계보다 개선됨
- 충돌은 여전히 더 긴 프레임 전송 시간을 수반함
- 스테이션에서 충돌이 발생하는 것을 감지하면 전송을 즉시 중단할 수 있으므로 충돌을 감지하고 전송을 중단하는 데 드는 시간낭비를 줄일 수 있음
- 일반적으로 **프레임 전송 시간이 전파 지연보다 훨씬 길기 때문에** 손상된 프레임을 빨리 종료하면 시간과 대역폭이 절약됨
- 이를 충돌 감지 기능이 있는 CSMA(CSMA/CD)라고 함
- 충돌이 감지되거나 관련 스테이션이 전송을 중단하는 경우, 임의 백오프 시간을 조정하고 예정된 시간에 다시 시도
- 스테이션은 CSMA 백오프 옵션 중 하나를 선택 가능
### CSMA/CD reaction time
- 채널이 캡처된 위치를 찾는 데 2번의 전파 시간이 걸린다
### CSMA-CD Model
- 각 경합 슬롯은 2번의 전파 지연이 됨
- 한 스테이션이 전송이 끝났음을 알아내려면 1번의 전파 지연 필요
### Contention Resolution
- CSMA-CD 모델을 사용한 CSMA의 효율성을 파악하려면 성공적으로 캡처된 채널에서 경합을 해결하는 데 걸리는 시간을 알아야 함
- 경합 슬롯에서 정확히 하나의 스테이션만 전송하면 경합이 해결됨
- 네트워크에 n개의 활성 스테이션이 있고 각 스테이션이 각 경합 시간 슬롯에서 확률 p로 전송할 수 있다고 가정
- 캡처 성공 확률은 n x p x (1-p)^(n-1)
- Pmax success 관련 ppt 참고
### CSMA/CD Throughput
- 성공적인 프레임 전송을 위한 CSMA 충돌 감지 모델을 참조하면, 전송이 성공하기 위해서는 e 전파 지연과 1 전파 지연이 필요하므로 최대 효율 도출
***
### 요약
- 랜덤 액세스 MAC 프로토콜의 최대 슬로프 처리량 비교 ppt 그림 참고
- 정규화된 전파 지연 계수 알파가 작을 경우 CSMA-CD가 최대 처리량이 가장 높지만,
- 알파가 크면 알파 계수에 의존하지 않으므로 ALOHA 체계가 최대 처리량이 더 높다
***
# 4. Scheduling Approaches
***
### Scheduling for MAC
- Access의 랜덤성은 달성 가능한 최대 처리량을 제한할 수 있으며, 이로 인해 트래픽 부하가 심할 경우 프레임 지연에 큰 변동 발생가능
- 스케쥴링을 사용하면 전송 매체에 순서대로 액세스할 수 있지만 계산 또는 절차상의 복잡성이 증가하는 경우가 많다
- 2가지 주요 접근 방식
  - 예약
  - 폴링
### Collision-free Reservation System
- 예약에서는 충돌에서 자유로운 시스템 전송이 사이클로 구성됨
- 각 사이클은 예약 간격으로 시작하여 프레임 전송으로 이어짐
- 예약 간격은 스테이션당 하나의 미니 슬롯인 M개의 미니 슬롯으로 구성됨
### Reservation Scheme
- 스테이션이 추가되면 해당 미니 슬롯을 사용하여 해당 사이클에 전송할 프레임이 있음을 표시
- 실제로 스테이션은 적절한 미니 슬롯에 예약 비트를 브로드캐스트하여 프레임을 전송하겠다는 의사를 알림
- 하지만 스테이션은 예약간격을 참고하여 사이클 내 프레임 전송 순서를 결정할 수 있음
- 미니 슬롯은 왕복 전파 지연을 커버해야 함
### Reservation System Options
- 예약 옵션
  - 중앙 집중식 시스템
    - 중앙 컨트롤러가 예약 정보를 듣고, 전송 순서를 결정
    - 각 스테이션은 예약 정보를 바탕으로 전송 슬롯을 결정
  - 분산식 시스템
- Single or Multiple Frames
  - 기본 예약 시스템에서는 예약 주기 내에 프레임 전송을 한 번만 예약가능
  - 스테이션이 프레임당 하나 이상의 슬롯을 예약하고 미니 슬롯당 전송을 예약할 수 있도록 수정가능
- 예약 구현 측면
  - Channelized
  - Random Access
### Efficiency of Reservation Systems
- 전파 지연이 미미한 경우 예약 시스템의 효율성이 떨어짐
- X를 프레임 전송 시간이고 vX를 일반적으로 x보다 짧은 미니 슬롯 지속 시간이라고 가정
- 단일 프레임 예약 방식에서 단일 프레임 전송은 (1+v)X 초
- 모든 스테이션이 전송하면 통신 링크가 완전히 로드됨
- 최대 효율은 1/(1+v)이지만 K 프레임의 경우 단일 예약 메시지로 전송을 예약할 수 있음
- 그 경우 최대 효율은 1/(1+V/k) 만큼 향상
### Random Access Reservation Systems
- 트래픽이 적은 스테이션이 많은 경우 각 스테이션에 미니 슬롯을 전용으로 할당하는 것은 비효율적
- 전파 지연이 무시할 수 없을 정도로 느린 경우에는 더더욱
- 슬롯형 ALOHA는 예약 체계와 결합할 수 있음
- 스테이션은 예약 미니 슬롯에 슬롯형 알로하를 사용함
- 랜덤 액세스의 경우, 평균적으로 각 예약에는 최소 10번의 미니 슬롯 시도가 필요함
- 충돌 감지 모델이 포함된 CSMA 참조 최대 효율은 1/(1+2.71v)
### Example : GPRS
- 슬롯형 ALOHA와 예약 시스템의 이러한 조합 중 하나가 General Packet Radio Service (GPRS) 일반 패킷 라디오 서비스
### Polling Systems
- 폴링은 분산된 방식으로도 이루어질 수 있음
- 스테이션이 분산된 접근법을 구현하여 전송 순서를 결정하는 곳에서도 마찬가지
### Polling System Options
- ppt 참고
- 다양한 MAC 프로토콜의 효율성을 비교
### Typical MAC Efficiencies
- 다양한 네트워크의 다양한 지연 대역폭 곱 표현