# 1. 통신 네트워크 및 서비스
***
### 통신 네트워크 
- 가장 단순한 형태로 서비스를 제공하기 위해 설정된 일련의 장비와 시설을 의미함
- 인터넷은 컴퓨터가 웹, 전자 상거래, 대화형 게임, 스트리밍 등과 같은 가치 있는 서비스를 제공할 수 있도록 하는 통신 서비스를 제공한다.
- 전신 네트워크, 전화 네트워크, 컴퓨터 네트워크의 3가지 예시를 통해 서비스가 네트워크 설계에 미치는 영향을 알 수 있다.
### 전신 네트워크
- 신호를 사용하여 네트워크를 통해 메시지를 전송
- drums, beacons, mirrors, smoke, flags, semaphores
- Morse code
  - 모스부호는 문자 메시지를 데이터와 대시의 순서로 변환하고 점과 대시를 전달하도록 설계된 전송 시스템을 사용
### 전기 전신 네트워크
- 전신 네트워크 이후 폭발적으로 증가
- 전신국에 메시지나 전보가 도착하는 형식
- 운영자는 목적지 주소를 기반으로 라우팅 결정을 내린다
- 저장 후 전달 프로세스가 채택됨 -> 운영자는 원하는 통신 회선을 사용할 수 있을 때까지 전체 메시지를 저장
### 서비스 및 아키텍처 관점에서의 전신 네트워크
- 기반은 문자 메시지를 두 개의 기호로 변환하여 통신하는 디지털 전송 시스템
- 메시지의 시작과 끝을 표시하기 위해, 일련의 점들이 의미 있는 메시지로 이어지도록 하기 위해 ***프레이밍***이 필요
- 멀티플렉싱
  - 여러 사업자의 기호를 동일한 통신회선에 결합하는 것
- 메시지 스위칭
  - 대상 주소를 지정하는 방법이 필요
  - 메시지가 이동하는 경로의 시간을 정하는 라우팅 프로시저
### 전화 네트워크, 전화 네트워크 아키텍쳐
- 디지털 전송 및 스위칭
  - 디지털 음성; Time Division Multiplexing
- 회로 스위칭 - 연결 지향적
  - 전용 종단 간 연결 설정이 필요한 네트워크의 전송 모드를 회로 스위칭이라고 한다.
  - 회로 스위칭에서는 경로가 스위치에 설정되고, 네트워크를 통한 전송이 동일할 때 라우팅이 결정된다는 점에 유의
  - 전화 번호 넘버링 시스템은 사용자나 스테이션을 식별하는 데 사용된다
- 계층적 네트워크 구조
  - 라우팅을 단순화
  - 확장성을 높임
### 네트워크 아키텍쳐 진화
1. 전신 네트워크
   - 메시지 스위칭, 저장 및 전달 프로세스
2. 전화 네트워크
   - 회로 스위칭 및 연결 지향
3. 컴퓨터 네트워크 및 인터넷
   - 패킷 스위칭
   - 가상 회로 스위칭
4. 차세대 인터넷
***
# 2. 컴퓨터 네트워크의 진화
***
### 컴퓨터 네트워크 진화과정
- 인터넷을 사용하면 서로 다른 여러 네트워크를 통해 정보 패킷을 전송할 수 있다
- 초기 컴퓨터는 매우 비쌌기 때문에 사용자가 컴퓨터를 공유할 수 있는 네트워크 기술이 개발
- **최초의 컴퓨터 네트워크**는 방공 시스템용으로 개발된 SAGE
- 아키텍처는 트리 토폴로지 터미널 지향 네트워크
- 컴퓨터 비용이 많이 들면서 사용자들은 응용 프로그램마다 다른 컴퓨터에 연결해야 하는 상황이 생겼다
### **ARPANET**
- 광범위한 지역에 있는 컴퓨터를 상호 연결하기 위한 인터넷 개발 노력
- 서로 다른 네트워크에 연결된 컴퓨터 간에 통신이 가능하게 함
- 터미널 지향 네트워크
  - 여러 터미널이 호스트 컴퓨터를 공유할 수 있도록 하는 메시지 전송 서비스를 제공
  - 전화 통신 회선과 모뎀을 사용할 수 있게 되면서 호스트 컴퓨터에서 멀리 떨어진 터미널에서도 액세스 가능
  - 전용 통신 회선을 제공하는 데 드는 비용은 비쌌지만 단말기는 버스트 방식으로 메시지를 생성
- Medium Access Control 
  - 여러 단말기가 단순한 통신 회선을 사용하여 필수 컴퓨터와 통신할 수 있도록 개발
  - 동시 전송으로 인한 충돌 가능성을 방지하기 위해 중재된 방식
  - 터미널의 메시지는 사용자 메시지 외에 헤더로 구성된 프레임 내에 캡슐화
  - ex) 폴링 프로토콜
    - 중앙 컴퓨터가 회선의 특정 터미널에 폴링 메시지를 보내는 마스터-슬레이브 배열을 사용
  - 모든 터미널은 상기 발신 회선을 수신
  - 폴링을 받은 터미널만 수신 회선으로 준비된 정보를 전송하여 응답
***
### 멀티플렉싱
- 터미널 간에 통신 회선을 공유하는 또 다른 수단을 제공
- 회선을 사용할 수 있게 될 때까지 멀티플렉서에서 프레임이 버퍼링
- 따라서 통신선은 2진수 시퀀스를 전송
- 따라서 각 프레임의 시작과 끝을 구분하려면 **프레이밍 메시지가 필요**
***
### 오류 컨트롤 프로토콜
- 통신 회선으로 인해 오류가 발생
- 오류 제어 기술은 오류 없는 통신을 보장하기 위해 개발
- 각 프레임에는 여러 개의 체크 비트
- 일반적으로 **_CRC(Cyclic Redundancy Check)라는 순환 중복 검사_**를 통해 계산
***
### 컴퓨터-컴퓨터 네트워크
- 컴퓨터 비용이 급증하면서 다양한 애플리케이션을 지원하기 위해 컴퓨터 간 네트워크를 유연하게 개발할 필요
- 컴퓨터 네트워크는 여러 응용 프로그램을 지원해야 하며 전송 시간은 충분히 짧아야 한다
- 대화형 응용 프로그램에서 보내는 메시지의 경우 저장 후 전달 작업으로 인해 대용량 메시지의 경우 지연이 길어질 수 있다
***
### 패킷 스위칭
- 패킷 스위칭은 패키지 전송 서비스를 제공하기 위해 설계
- 이 서비스에서는 패킷에 지정된 최대값까지 다양한 길이의 분류된 정보가 들어 있다
- 단일 패킷에 맞지 않는 메시지를 사용하면 **여러 패킷을 사용하여 분할하여 전송**, **목적지에서 재조립**
***
### ARPANET
- ARPANET은 광역 네트워크에서 패키지 스위칭을 사용하여 호스트 컴퓨터의 상호 연결을 연구할 수 있는 테스트 베드를 제공하기 위해 개발
- 시스템의 하베스트 구조가 너무 취약했을 수 있기 때문에 생긴 산물이기도 했다
### ARPANET Design
- ARPANET에서 볼 때 배기가스 서비스와 같은 컴퓨터 네트워크 아키텍처의 대부분의 요소가 어떤 의미에서는 연결이 없는 것이었다는 것을 알 수 있다
- 따라서 연결이 없으면 패킷을 전송하기 전에 필요한 설정을 할 수 있다
- 패킷은 프레임 단위로 캡슐화되고 검사 비트는 오류 제어에 사용
- 대상은 고유한 주소로 식별
- 라우팅 테이블은 패킷 스위치에서 동적으로 계산
- 네트워크 내부의 혼잡을 방지하기 위한 종단 간 혼잡 제어와 버퍼 오버플로를 방지하기 위한 흐름 제어를 제공
### ARPANET Applications
- ARPANET이 NSF-NET으로 발전하면서 더 많은 노드가 네트워크에 합류했고 새로운 애플리케이션이 도입
***
### Ethernet Local Area Network
- 워크스테이션과 PC의 가격이 저렴해짐에 따라 저렴한 비용, 낮은 오류율 및 고속 네트워크가 필요
- 이러한 이유로 일반적으로 1km 미만의 제한된 네트워크가 생겨났다
- 근거리 통신망 또는 간단히 **_LAN_**
### LAN
- LAN은 네트워크 내의 전송 프레임에 브로드캐스팅을 사용
- 미디어 액세스 제어 프로토콜은 친구 간의 충돌을 방지하기 위해 전송 미디어에 대한 액세스를 조정하는 데 필수적
- 각 시스템 네트워크 인터페이스 카드에는 MAC 주소라는 글로벌 고유 주소가 있다
- 요약하자면, 최소한의 아키텍처 설계 진화는 서비스와 애플리케이션에 의해 좌우
***
# 3. 프로토콜 및 서비스의 예
***
### 서비스 & 애플리케이션
- 네트워크 아키텍처 설계의 진화는 서비스와 애플리케이션에 의해 주도
- ex)
  - 개별 정보 블록의 인터넷 전송
  - 바이트 스트림의 안정적인 인터넷 전송
  - 음성 신호의 실시간 전송 등
- 통신 서비스를 기반으로 구축된 애플리케이션. 
- 예를 들어 단문 메시지 서비스는 신뢰할 수 있는 인터넷 스트림 서비스와 단일 전화 문자 메시지를 기반
- 하나 이상의 네트워크를 통해 연결된 시스템 간의 전반적인 통신 프로세스는 매우 복잡
### 계층, 서비스 & 프로토콜
- **계층화**는 관련 통신 기능을 관리 가능한 그룹으로 나눈다
- 각 계층은 위 계층에 서비스를 제공하며 각 계층은 프로토콜에 따라 작동
### 예제
### 1. DNS
- 웹 브라우징에서 사용자가 www.nytimes.com을 클릭한다고 가정
- URL에는 컴퓨터의 인터넷 이름이 포함되지만 인터넷 주소는 포함되지 않는다
- 인터넷이 기기와 정보를 주고 받으려면 인터넷 주소가 필요
- 브라우저 소프트웨어는 도메인 이름 서비스 (DNS) 를 사용하여 서버의 인터넷 주소에 대한 쿼리를 보낸다
- 따라서 응답 주소도 나중에 사용할 수 있도록 브라우저에 캐시
### 2. TCP
- 브라우저 소프트웨어는 HTTP 프로토콜을 사용하여 문서 요청을 보낸다
- 웹 사이트의 HTTP 서버. 잘 알려진 포트 번호인 HTTP 서비스의 경우 80을 수신하여 요청을 기다린다
- HTTP 클라이언트는 임시 포트 번호를 통해 요청 메시지를 보낸다
- 예를 들어 1127은 연결 중에만 사용
- HTTP에서 메시지를 안정적으로 전송하려면 HTTP 클라이언트와 HTTP 서버 간의 TCP 안정적인 연결이라는 전송 제어 프로토콜이 필요
### 3. HTTP
- TCP 연결이 설정된 후 클라이언트는 HTTP를 사용하여 “Get” 메시지를 지정하는 문서를 요청
- 서버는 200으로 인코딩된 상태 응답을 보내 클라이언트 요청이 성공했음을 알리고 요청된 파일을 전송
### 프로토콜
- 프로토콜은 레이어에 있는 둘 이상의 통신 개체가 상호 작용하는 방식을 제어하는 정확한 규칙 세트
- 보내고 받을 수 있는 메시지의 종류. 특정 이벤트가 발생할 때 취해야 할 조치의 종류 
- 간단히 말해 프로토콜의 목적은 위 계층에 서비스를 제공하는 것
- 예를 들어 HTTP는 애플리케이션 계층 프로토콜
  - 브라우저 애플리케이션 프로그램을 대신하여 문서를 검색
  - 요청 및 응답 메시지의 필드를 지정
  - 특정 메시지 수신 시 취해야 할 조치를 지정
### HTTP uses service of TCP - CONT
- HTTP는 TCP의 안정적인 스트림 서비스를 사용
- 예를 들어, HTTP Get 요청은 기본 TCP 엔티티로 전송되며, 이 엔티티는 소스 및 대상 포트 번호의 헤더가 있는 TCP 세그먼트로 캡슐화
- 세그먼트는 TCP 안정적인 통신을 통해 서버로 전송
- 서버의 TCP는 헤더를 삭제하고 상위 계층 HTTP 서버에 Get 요청을 제공
- HTTP 서버는 Get 요청을 처리
- 응답은 기본 TCP 엔티티로 전송되며, 이 엔티티는 소스 및 대상 지점 번호의 헤드가 있는 TCP 세그먼트로 캡슐화
- 따라서 TCP의 안정적인 통신을 통해 세그먼트가 클라이언트 측으로 다시 전송
- 클라이언트 측 TCP는 헤더를 삭제하고 상위 계층 HTTP 클라이언트에 응답을 제공
### Example : DNS Protocol
- DNS는 또 다른 애플리케이션 계층 프로토콜
- 인터넷의 여러 시스템에 있는 분산 데이터베이스를 사용
- DNS 프로토콜은 다양한 유형의 쿼리를 허용
- **주로 도메인 이름을 IP 주소로 또는 IP 주소를 도메인 이름으로 변환**
- 잘 알려진 포트 번호는 53
- DNS 서버는 계층 구조로 구성
- 로컬 이름 서버는 자주 사용되는 도메인 이름을 해결
- _쿼리를 해결할 수 없는 경우_ 루트 이름 서버에 문의
- _루트 이름 서버가 쿼리를 해결할 수 없는 경우_ 최후의 수단인 신뢰할 수 있는 이름 서버로 이동
- *신뢰할 수 있는 네임 서버*는 전 세계 수백 대의 서버로 구성된 네트워크
***
### 요약
- 미국 상무부 산하 NTIA라는 국가 관리 기관 DNS 루트에 대한 궁극적인 권한을 행사
- 여러 국가 및 조직에서 권한을 장악하려는 악성 호스트가 있었다
- 통제 권한은 결국 IANA라는 국제 지정 번호 기관으로 이전
- DNS 서버는 사이버 공격의 주요 표적 중 하나

[인터넷의 간략한 역사](https://www.internetsociety.org/internet/history-internet/brief-history-internet/)
